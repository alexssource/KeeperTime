<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Untitled</title>
</head>

<body background="../bgrwhite.gif">



<b><p><div align="center"><a name="9-11-2">Команды чтения и записи
</a></div></p></b>

<p><span
style="mso-spacerun: yes">    </span>Команды чтения и записи испоьзуют регистры
микропроцессора 8088 как

<p><span
style="mso-spacerun: yes">    </span>входные параметры.<span style='mso-tab-count:
1'>  </span>Эти параметры указывают дорожку, сектор,

<p><span
style="mso-spacerun: yes">    </span>головку и дисковод, на котором должна
выполняться операция.<span style="mso-spacerun: yes">  </span>Парой

<p><span
style="mso-spacerun: yes">    </span>регистров ES:BX вызывающая программа
указывает буфер, и драйвер

<p><span
style="mso-spacerun: yes">    </span>дисковода запускает операцию ПДП в этом
буфере.<span style="mso-spacerun: yes">  </span>Подпрограмма

<p><span
style="mso-spacerun: yes">    </span>DMA_SETUP вычисляет физический адрес
буфера.<span style="mso-spacerun: yes">  </span>Эта программа также

<p><span
style="mso-spacerun: yes">    </span>вычисляет общее число пересылаемых байт,
используя входной

<p><span
style="mso-spacerun: yes">    </span>параметр, задающий количество секторов, а
также табличный параметр

<p><span
style="mso-spacerun: yes">    </span>- размер сектора.<span
style="mso-spacerun: yes">  </span>Затем эта программа посылает значение
счетчика и

<p><span
style="mso-spacerun: yes">    </span>адрес в контроллер ПДП.<span
style="mso-spacerun: yes">  </span>Заметим, что эта программа определяет

<p><span
style="mso-spacerun: yes">    </span>перекрытие буфером границы области
размером 64K.<span style="mso-spacerun: yes">  </span>Поскольку

<p><span
style="mso-spacerun: yes">    </span>четырехбитовый регистр страницы не
изменяется при передаче данных,

<p><span
style="mso-spacerun: yes">    </span>то если адрес ПДП переходит через значение
0FFFFH, передача данных

<p><span
style="mso-spacerun: yes">    </span>будет неверной.<span style="mso-spacerun:
yes">  </span>Эта программа сигнализирует об ошибке, не допуская

<p><span
style="mso-spacerun: yes">    </span>выполнения ошибочной операции
ввода-вывода.

<p><span
style='mso-tab-count:1'>      </span><span style="mso-spacerun: yes">    
</span>AH <span style='mso-tab-count:2'>          </span>Функция

<p><span
style='mso-tab-count:1'>      </span>-------------------------------------------------

<p><span
style='mso-tab-count:1'>      </span><span style="mso-spacerun: yes">    
</span>0<span style='mso-tab-count:2'>            </span>Инициализация адаптера
дисковода

<p><span
style='mso-tab-count:1'>      </span><span style="mso-spacerun: yes">    
</span>1<span style='mso-tab-count:2'>            </span>Читать состояние от
последней операции

<p><span
style='mso-tab-count:1'>      </span><span style="mso-spacerun: yes">    
</span>2<span style='mso-tab-count:2'>            </span>Чтение с диска в
память

<p><span
style='mso-tab-count:1'>      </span><span style="mso-spacerun: yes">    
</span>3<span style='mso-tab-count:2'>            </span>Запись из памяти на
диск

<p><span
style='mso-tab-count:1'>      </span><span style="mso-spacerun: yes">    
</span>4<span style='mso-tab-count:2'>            </span>Проверка дискеты

<p><span
style='mso-tab-count:1'>      </span><span style="mso-spacerun: yes">    
</span>5<span style='mso-tab-count:2'>            </span>Форматирование дорожки
дискеты

<p><span
style='mso-tab-count:1'>      </span>-------------------------------------------------

<p><![if !supportEmptyParas]>&nbsp;<![endif]>

<p><span
style='mso-tab-count:2'>            </span>Фиг. 9.4 Функции BIOS для дисковода
<p><div align="center"><a href="index.html"><img src="../soder.gif" width=120 height=31 border=0 alt=""></a></div></p>

</body>
</html>
